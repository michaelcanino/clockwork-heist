{
  "crew_members": [
    {
      "id": "rogue_1",
      "name": "Silas Quickfingers",
      "role": "Rogue",
      "skills": {
        "stealth": 5,
        "lockpicking": 4,
        "combat": 2,
        "magic": 0
      },
      "xp": 0,
      "level": 1,
      "upgrades": [],
      "description": "A nimble thief known for slipping past guards and vanishing into shadows."
    },
    {
      "id": "mage_1",
      "name": "Lyra Emberveil",
      "role": "Mage",
      "skills": {
        "stealth": 2,
        "lockpicking": 0,
        "combat": 3,
        "magic": 5
      },
      "xp": 0,
      "level": 1,
      "upgrades": [],
      "description": "An arcanist with a knack for disabling magical wards and weaving illusions."
    },
    {
      "id": "artificer_1",
      "name": "Dorian Gearwright",
      "role": "Artificer",
      "skills": {
        "stealth": 3,
        "lockpicking": 3,
        "combat": 3,
        "magic": 2
      },
      "xp": 0,
      "level": 1,
      "upgrades": [],
      "description": "A tinkerer armed with gadgets, smoke bombs, and a questionable moral compass."
    },
    {
      "id": "gambler_1",
      "name": "Cassian Vey",
      "role": "Gambler",
      "skills": {
        "stealth": 3,
        "lockpicking": 2,
        "combat": 3,
        "magic": 2
      },
      "xp": 0,
      "level": 1,
      "upgrades": [],
      "description": "A charming risk-taker whose wagers can double the crew’s gains or leave them penniless. Once per heist, reroll a failed check (success doubles reward, failure increases notoriety)."
    },
    {
      "id": "alchemist_1",
      "name": "Seraphine Morrow",
      "role": "Alchemist",
      "skills": {
        "stealth": 2,
        "lockpicking": 1,
        "combat": 1,
        "magic": 4
      },
      "xp": 0,
      "level": 1,
      "upgrades": [],
      "description": "A potion-brewer who concocts elixirs that shield allies from failure or amplify strengths. Once per heist, grant +1 to all crew checks in the next event."
    },
    {
      "id": "scout_1",
      "name": "Finn Ashwhistle",
      "role": "Scout",
      "skills": {
        "stealth": 5,
        "lockpicking": 2,
        "combat": 3,
        "magic": 0
      },
      "xp": 0,
      "level": 1,
      "upgrades": [],
      "description": "A sharp-eyed lookout, skilled at spotting patrols and warning of dangers ahead. Once per heist, reveal the next random event before it triggers."
    }
  ],

  "tools": [
    {
      "id": "tool_lockpick",
      "name": "Lockpicks",
      "effect": { "type": "bonus", "skill": "lockpicking", "value": 2 },
      "uses_per_heist": 1,
      "usable_by": ["Rogue", "Artificer", "Scout"]
    },
    {
      "id": "tool_rune",
      "name": "Dispel Rune",
      "effect": { "type": "bonus", "skill": "magic", "value": 2 },
      "uses_per_heist": 1,
      "usable_by": ["Mage", "Alchemist"]
    },
    {
      "id": "tool_gadget",
      "name": "Smoke Bomb",
      "effect": { "type": "bonus", "skill": "stealth", "value": 2 },
      "uses_per_heist": 1,
      "usable_by": ["Rogue", "Artificer", "Scout"]
    },
    {
      "id": "tool_explosives",
      "name": "Aether-Charged Explosives",
      "effect": { "type": "bypass", "check": "lockpicking", "notoriety": 2 },
      "uses_per_heist": 1,
      "usable_by": ["Artificer", "Gambler"]
    },
    {
      "id": "tool_disguise",
      "name": "Disguise Kit",
      "effect": { "type": "difficulty_reduction", "condition": "guard", "value": 2 },
      "uses_per_heist": 1,
      "usable_by": ["Rogue", "Scout", "Gambler"]
    },
    {
      "id": "tool_alchemy",
      "name": "Alchemy Kit",
      "effect": { "type": "special", "id": "alchemy_craft", "skill": "any", "value": 2 },
      "uses_per_heist": 1,
      "usable_by": ["Alchemist"]
    }
  ],

  "heists": [
    {
      "id": "heist_1",
      "name": "The Noble’s Manor",
      "xp_success": 8,
      "xp_fail": 1,
      "difficulty": 3,
      "required_roles": ["Rogue", "Mage"],
      "max_party_size": 3,
      "potential_loot": [
        {"item": "Jeweled Dagger", "value": 100},
        {"item": "Encrypted Ledger", "value": 150}
      ],
      "events": [
        {
          "id": "event_guard",
          "description": "A guard patrol crosses your path.",
          "check": "stealth",
          "difficulty": 3,
          "success": "The crew slips by unnoticed.",
          "partial_success": "You get past, but notoriety +1.",
          "failure": "The alarm is raised! Notoriety increases.",
          "scaling": {
            "notoriety_threshold": 6,
            "difficulty_increase": 1
          }
        },
        {
          "id": "event_ward",
          "description": "A magical ward shimmers at the vault door.",
          "check": "magic",
          "difficulty": 4,
          "success": "The ward fades quietly.",
          "partial_success": "The ward flickers but drains magical energy (Mage –1 magic for rest of heist).",
          "failure": "The ward flares and burns the intruder. Crew member injured."
        }
      ]
    },
    {
      "id": "heist_2",
      "name": "The Merchant’s Guild",
      "xp_success": 8,
      "xp_fail": 1,
      "difficulty": 4,
      "required_roles": ["Rogue", "Artificer"],
      "max_party_size": 3,
      "potential_loot": [
        {"item": "Guild Gold Bars", "value": 200},
        {"item": "Smuggler’s Map", "value": 120}
      ],
      "events": [
        {
          "id": "event_trap",
          "description": "A pressure plate triggers poison darts.",
          "check": "stealth",
          "difficulty": 4,
          "success": "The trap is avoided just in time.",
          "partial_success": "A crew member grazed, combat –1 until healed.",
          "failure": "A crew member is poisoned and weakened."
        },
        {
          "id": "event_rival",
          "description": "Rival thieves attempt to steal your prize.",
          "check": "combat",
          "difficulty": 5,
          "requirements": { "combat": 3 },
          "success": "The rivals retreat, leaving you the spoils.",
          "partial_success": "The rivals flee but take one minor loot item.",
          "failure": "The rivals snatch some loot before fleeing."
        }
      ]
    },
    {
      "id": "heist_3",
      "name": "The Royal Treasury",
      "xp_success": 8,
      "xp_fail": 1,
      "difficulty": 5,
      "required_roles": ["Mage", "Artificer", "Gambler"],
      "max_party_size": 4,
      "potential_loot": [
        {"item": "Crown Jewels of Brasshaven", "value": 500},
        {"item": "Aether Core", "value": 300}
      ],
      "events": [
        {
          "id": "event_elite_guard",
          "description": "Clockwork riflemen block the way.",
          "check": "combat",
          "difficulty": 7,
          "requirements": { "combat": 6 },
          "success": "The guards are defeated in a fierce clash.",
          "partial_success": "The guards retreat, but notoriety +3.",
          "failure": "The crew is wounded and forced to retreat."
        },
        {
          "id": "event_flood",
          "description": "An aether conduit ruptures, flooding the vault with searing energy.",
          "check": "magic",
          "difficulty": 6,
          "requirements": { "magic": 6 },
          "success": "The mage channels the surge safely.",
          "partial_success": "You hold the surge but lose 1 loot",
          "failure": "The flood scorches valuables and harms the crew."
        }
      ]
    },
    {
      "id": "heist_4",
      "xp_success": 8,
      "xp_fail": 1,
      "name": "The Abandoned Cathedral",
      "difficulty": 3,
      "required_roles": ["Alchemist", "Scout"],
      "max_party_size": 3,
      "potential_loot": [
        {"item": "Cursed Relic", "value": 250},
        {"item": "Stained Glass Shards", "value": 80}
      ],
      "events": [
        {
          "id": "event_curse",
          "description": "A lingering curse seeps from the relics.",
          "check": "magic",
          "difficulty": 4,
          "success": "The curse is contained with alchemy.",
          "partial_success": "The curse weakens morale, respect –1.",
          "failure": "The curse afflicts the crew, lowering morale."
        },
        {
          "id": "event_collapse",
          "description": "The cathedral’s floor crumbles underfoot.",
          "check": "stealth",
          "difficulty": 4,
          "success": "The crew leaps to safety.",
          "partial_success": "A member stumbles, notoriety +1.",
          "failure": "A member falls and is injured."
        }
      ]
    },
    {
      "id": "heist_5",
      "xp_success": 8,
      "xp_fail": 1,
      "name": "The Guild Foundry",
      "difficulty": 4,
      "required_roles": ["Artificer", "Scout"],
      "max_party_size": 3,
      "potential_loot": [
        {"item": "Aetherblue Fuel Cell", "value": 200},
        {"item": "Experimental Schematic", "value": 150}
      ],
      "scaling": {
        "notoriety_threshold": 8,
        "extra_event": "event_elite_guild_enforcer"
      },
      "events": [
        {
          "id": "event_molten_spill",
          "description": "Molten metal spills across the foundry floor.",
          "check": "stealth",
          "difficulty": 4,
          "success": "The crew slips past without harm.",
          "partial_success": "A crew member takes minor burns, losing 1 XP reward.",
          "failure": "A crew member is badly burned, combat –1 until healed."
        },
        {
          "id": "event_automaton",
          "description": "A Guild Security Automaton clanks into view.",
          "check": "combat",
          "difficulty": 6,
          "requirements": { "combat": 4 },
          "success": "The automaton is disabled.",
          "failure": "The automaton sounds the alarm! Notoriety +2."
        }
      ]
    },
    {
      "id": "heist_6",
      "name": "The Sky Docks",
      "xp_success": 12,
      "xp_fail": 1,
      "difficulty": 5,
      "required_roles": ["Rogue", "Gambler", "Mage"],
      "max_party_size": 4,
      "potential_loot": [
        {"item": "Skyship Captain’s Log", "value": 250},
        {"item": "Smuggled Relic from the Eastern Reach", "value": 400}
      ],
      "events": [
        {
          "id": "event_storm",
          "description": "A sudden storm surges over the docks.",
          "check": "magic",
          "difficulty": 6,
          "requirements": { "magic": 6 },
          "success": "The storm is diverted safely.",
          "failure": "Storm damages an airship, lose one loot item."
        },
        {
          "id": "event_air_duel",
          "description": "A duel erupts aboard the airship against rival guards.",
          "check": "combat",
          "difficulty": 7,
          "requirements": { "combat": 6 },
          "success": "The crew wins the duel.",
          "partial_success": "Victory, but notoriety +3.",
          "failure": "The crew is wounded and forced to retreat."
        }
      ]
    }
  ],

  "random_events": [
    {
      "id": "rand_guard",
      "description": "Unexpected guard patrol disrupts the plan.",
      "check": "stealth",
      "difficulty": 3
    },
    {
      "id": "rand_trap",
      "description": "A collapsing floor threatens to drop the crew into the depths.",
      "check": "stealth",
      "difficulty": 4
    },
    {
      "id": "rand_rival",
      "description": "A rival crew shadows your movements, waiting to strike.",
      "check": "combat",
      "difficulty": 4
    },
    {
      "id": "rand_env",
      "description": "An environmental hazard—fire from ruptured aether pipes—blocks the path.",
      "check": "magic",
      "difficulty": 4
    },
    {
      "id": "rand_betrayal",
      "description": "A rival syndicate pretends to help, then turns on you.",
      "check": "combat",
      "difficulty": 3,
      "success": "The rivals are driven off.",
      "partial_success": "The rivals flee but steal one loot item.",
      "failure": "A crew member is injured and loot is stolen.",
      "reputation_hook": {
        "fear_bias": "Betrayal more likely if fear > respect.",
        "respect_bias": "Betrayal less likely if respect > fear."
      },
      "scaling": {
        "notoriety_threshold": 10,
        "difficulty_increase": 2
      }
    }
  ],

  "special_events": [
    {
      "id": "event_arrest",
      "description": "Brasshaven Watch swarm the scene with clockwork hounds.",
      "check": "stealth",
      "difficulty": 3,
      "success": "The crew escapes unseen.",
      "partial_success": "The crew escapes but drops half the loot.",
      "failure": "A crew member is arrested and unavailable until bailed out or rescued.",
      "scaling": {
        "notoriety_threshold": 12,
        "difficulty_increase": 2
      }
    },
    {
      "id": "event_elite_guild_enforcer",
      "description": "An elite Guild Enforcer in reinforced plating blocks your escape!",
      "check": "combat",
      "difficulty": 7,
      "success": "The enforcer is neutralized.",
      "partial_success": "You disable the enforcer, but the commotion attracts attention. Notoriety +2.",
      "failure": "The enforcer's assault forces the crew to retreat, abandoning the primary loot."
    }
  ],

  "player": {
    "starting_notoriety": 0,
    "starting_loot": [],
    "notoriety": 0,
    "reputation": {
      "fear": 0,
      "respect": 0
    }
  },

  "progression": {
    "xp_thresholds": [0, 10, 28, 55, 85],
    "level_cap": 5,
    "upgrade_options": {
      "general": [
        "Increase stealth by +1",
        "Increase combat by +1",
        "Increase lockpicking by +1",
        "Increase magic by +1"
      ],
      "rogue": [
        "Shadowstep: Once per heist, auto-succeed a stealth check",
        "Ghost in the Gears: Once per heist, bypass an entire event with no check"
      ],
      "mage": [
        "Arcane Reservoir: Store one success to spend later",
        "Chronoward: Once per heist, rewind one failed check as if it never happened"
      ],
      "artificer": [
        "Tinker’s Edge: Craft a temporary gadget granting +2 to any check once per heist",
        "Clockwork Legion: Deploys gadgets, granting +2 to all crew checks for one event"
      ],
      "gambler": [
        "Loaded Dice: Reroll twice per heist, but if both fail notoriety +3",
        "Fate’s Hand: Choose success or failure on one roll, but notoriety +5"
      ],
      "alchemist": [
        "Grand Elixir: Once per heist, buff all crew with +1 to all skills for next 2 events",
        "Philosopher’s Draught: One event auto-succeeds and heals all crew injuries"
      ],
      "scout": [
        "Hawkeye: Automatically reveal 2 random events instead of 1",
        "Eagle of Brasshaven: Automatically avoid the first random event each heist"
      ]
    }
  },

  "factions": [
    {
      "id": "guilds",
      "name": "The Brasshaven Guilds",
      "description": "Industrial magnates and inventors, hoarding patents and machinery.",
      "standing": 0,
      "reputation": "neutral",
      "perks": [
        "Discount on crafted tools",
        "Exclusive access to experimental gadgets"
      ],
      "penalties": [
        "Guild Automatons appear in heists",
        "Prices rise on black market if hostile"
      ]
    },
    {
      "id": "nobles",
      "name": "Noble Houses of Brasshaven",
      "description": "The city’s aristocracy, flaunting wealth stolen from generations past.",
      "standing": 0,
      "reputation": "neutral",
      "perks": [
        "Invitations to exclusive heists",
        "Political protection lowers notoriety gain"
      ],
      "penalties": [
        "Elite guards and riflemen deployed if hostile"
      ]
    },
    {
      "id": "syndicates",
      "name": "Rogue Syndicates",
      "description": "Underworld cartels and rival crews with shifting loyalties.",
      "standing": 0,
      "reputation": "neutral",
      "perks": [
        "Access to smuggler routes (extra loot opportunities)",
        "Fence stolen goods for higher value"
      ],
      "penalties": [
        "Betrayals and ambushes more frequent if hostile"
      ]
    }
  ],

  "narrative_events": [
    {
      "id": "event_faction_offer_guilds",
      "trigger": { "faction": "guilds", "standing_min": 2 },
      "description": "A Guildmaster approaches with a contract to sabotage a rival Syndicate operation.",
      "choices": [
        {
          "text": "Accept the contract (ally with Guilds)",
          "effects": { "faction": { "guilds": "+2", "syndicates": "-2" }, "loot": 100 }
        },
        {
          "text": "Refuse politely",
          "effects": { "faction": { "guilds": -1 } }
        },
        {
          "text": "Warn the Syndicates instead (betray Guilds)",
          "effects": { "faction": { "guilds": -3, "syndicates": "+3" }, "respect": "+1" }
        }
      ]
    },
    {
      "id": "event_faction_offer_nobles",
      "trigger": { "faction": "nobles", "standing_min": 2 },
      "description": "A noble house seeks your help to recover a stolen heirloom.",
      "choices": [
        {
          "text": "Recover the heirloom (ally with Nobles)",
          "effects": { "faction": { "nobles": "+2" }, "respect": "+1" }
        },
        {
          "text": "Steal the heirloom for yourself",
          "effects": { "faction": { "nobles": -3 }, "loot": 200, "fear": "+1" }
        }
      ]
    }
  ],

  "campaign_arcs": [
    {
      "id": "arc_faction_war",
      "name": "Faction Rivalries",
      "description": "Tensions rise as Guilds, Nobles, and Syndicates vie for control of Brasshaven.",
      "stages": [
        { "threshold": 3, "event": "event_faction_offer_guilds" },
        { "threshold": 5, "event": "event_faction_offer_nobles" },
        { "threshold": 7, "special": "heist_faction_showdown" }
      ],
      "outcomes": [
        "Allied with a faction unlocks unique tools and perks.",
        "Opposing all factions leads toward the final independent path."
      ]
    },
    {
      "id": "arc_clockwork_tower_tease",
      "name": "The Clockwork Tower",
      "description": "Rumors spread of a colossal tower, heart of the city’s control systems.",
      "stages": [
        { "trigger": "notoriety >= 10", "event": "rumor_clockwork_tower" },
        { "trigger": "faction_hostile_all", "special": "unlock_finale_clockwork_tower" }
      ],
      "outcomes": [
        "The final heist: The Clockwork Tower (Phase 5).",
        "Your faction alliances determine the Tower’s defenders and outcomes."
      ]
    }
  ]
}
